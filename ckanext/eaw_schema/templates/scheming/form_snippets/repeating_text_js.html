{% import 'macros/form.html' as form %}
{% resource 'eaw_schema/lcrnz-repeating.js' %}

<div data-module="lcrnz-repeating">
  {%- set values = data.get(field.field_name, []) + [''] -%}
  {% set attrs={"class": "shortinput"} %}
  {%- snippet 'scheming/form_snippets/help_text_short.html', field=field -%}
  {%- for value in values -%} 
    <div class="control-repeating"> 
      {{ form.input(field.field_name + '-' ~ loop.index, 
      id='field-' + field.field_name + '-' ~ loop.index, 
      label=h.scheming_language_text(field.label) + ' ' ~ loop.index, 
      placeholder=h.scheming_language_text(field.form_placeholder), 
      value=value, 
      error=errors[field.field_name], 
      classes=['control-medium'], 
      is_required=h.scheming_field_required(field),
      attrs=attrs
      ) }} 
    </div>
    
    {%- endfor -%}
</div>
